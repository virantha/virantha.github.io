<!DOCTYPE html>
<html lang="en">

<head>
      <link rel="stylesheet" type="text/css" href="https://virantha.com/theme/css/style.css">

  <link rel="stylesheet" type="text/css" href="https://virantha.com/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|Ubuntu+Mono">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  <!---
  <link rel="stylesheet" type="text/css" href="https://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">
  <link rel="stylesheet" href="/theme/tipuesearch/tipuesearch.css">
  -->
  
  <link rel="stylesheet" href="https://cdn.datatables.net/2.1.8/css/dataTables.dataTables.css" />
    
  <script src="https://code.jquery.com/jquery-3.7.1.min.js""></script>
  <script src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>

  <link rel="stylesheet" href="https://files.stork-search.net/releases/v1.6.0/edible.css" />


  <meta charset="utf-8" />
  <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Virantha Ekanayake">
  <meta name="description" content="Technical writings by Virantha Ekanayake">

  <link rel="author" href="https://plus.google.com/+ViranthaEkanayake/?rel=author">


<meta name="keywords" content="LEAF, Nissan">

  <title>
Reverse engineering the remote control protocol for the Nissan LEAF (the new Nissan EV protocol) | Virantha Namal Ekanayake  </title>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45383503-1', 'virantha.com');
  ga('send', 'pageview');
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="https://virantha.com">
        <img src="http://localhost:8000/images/static/veezer_mini.jpg" alt="logo" id="logo">
      </a>
      <h2><a href="https://virantha.com" class="nohover">Virantha Ekanayake</a></h2>
      <p>Technology * Python * FPGAs * Semiconductors * Startups
      
      <div>
          <ul>


            <li><a data-email="moc.liamg@ahtnariv:otliam" title="You need javascript enabled to view this email" href="#" class="ext-links email" target="_blank">Email<i class="fa fa-envelope"></i></a></li>



            
            <li><a href="https://twitter.com/virantha" target="_blank"><span class="ext-links">Twitter</span><i class="fa fa-twitter "></i></a></li>



            
            <li><a href="https://www.linkedin.com/pub/virantha-ekanayake/1a/a4b/56" target="_blank"><span class="ext-links">Linkedin</span><i class="fa fa-external-link-square "></i></a></li>



            
            <li><a href="https://github.com/virantha" target="_blank"><span class="ext-links">GitHub</span><i class="fa fa-github "></i></a></li>
            <br>
        </div>
<p>
<!-- AddThis Button BEGIN -->
<div class="sharing addthis_toolbox addthis_default_style addthis_16x16_style">
    <a class="addthis_button_twitter"></a>
    <a class="addthis_button_google_plusone_share"></a>
    <a class="addthis_button_facebook"></a>
    <a class="addthis_button_hackernews"></a>
    <a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
</p>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-533983e96da03f48"></script>
<!-- AddThis Button END -->
        
      </ul>
    </div>
  </aside>

  <main id="main">
    <header>
      <p id="header">
      
      </p>
<div class='nav-class'>

    <ul>
        <li>
            <a id='head' href="https://virantha.com">Home</a> &#124; 
            <ul>
                <li><a href='https://virantha.com/blog.html'>All posts</a></li>
                <li><a href='https://virantha.com/tags.html'>Tags</a></li>
            </ul>
        </li>
                <li><a href=#'>Projects</a>
                <ul>                        <li><a href="https://virantha.com/category/pypdfocr.html"> PyPDFOCR </a> </li>
                        <li><a href="https://virantha.com/category/airframe.html"> AirFrame </a> </li>
                        <li><a href="https://virantha.com/category/scanpdf.html"> ScanPDF </a> </li>
                        <li><a href="https://virantha.com/category/oneresume.html"> OneResum√© </a> </li>
                        <li><a href="https://virantha.com/category/fundsgather.html"> FundsGather </a> </li>
                        <li><a href="https://virantha.com/category/photokeeper.html"> PhotoKeeper </a> </li>
                        <li><a href="https://virantha.com/category/bricknil.html"> BrickNil </a> </li>
                </ul>
                </li>
                <li><a href="https://virantha.com/category/tech.html"> Tech notes </a> </li>
                <li><a href="https://virantha.com/category/snippets.html"> Snippets </a> </li>
                <li><a href="https://virantha.com/category/diy.html"> DIY </a> </li>
                <li><a href="https://virantha.com/category/shopping.html"> Shopping </a> </li>
                    <!--
                    <div class="stork-wrapper-edible">
                        <input data-stork="federalist-edible" class="stork-input" />
                        <div data-stork="federalist-edible-output" class="stork-output"></div>
                    </div>
                    -->
                    
    </ul>
</div>
<p>Posted
 by virantha
on Tue 12 January 2016 </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="https://virantha.com/2016/01/12/reverse-engineering-nissan-connect-ev-protocol/" class="nohover">Reverse engineering the remote control protocol for the Nissan LEAF (the new Nissan EV protocol)</a></h1>
  </div>
  <div class="article_text">
    <div class="section" id="nissan-connect-ev">
<h2>1&nbsp;&nbsp;&nbsp;Nissan Connect EV</h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><em>Update April 2016</em>:  Nissan has updated their API calls to actually use the user login information to authenticate instead of just the VIN.
You can see a summary of the newer API in my new post <a class="reference external" href="https://virantha.com/2016/04/07/updated-reverse-engineering-nissan-connect-ev-protocol/">here</a>.</p>
</div>
<p>For those of you with a Nissan LEAF, the first cool things you get for free with the car is remote telematics via a web interface or a iOS or Android application.
The car has a built-in cellular modem that can be used to get all kinds of neat stats from the car (like miles driven, energy consumption, efficiency, etc), as well
as send map directions and enable/disable the charging and the climate control.  In the latter part of 2015, Nissan revamped their Carwings servers which provided these
services, and they appear to be combining it with their general telematics interfaces across all their car models.  The new application now talks to a different
REST endpoint and I could find scant documentation on this, so I decided to try my hand at reverse-engineering what the new Nissan EV application is doing.</p>
</div>
<div class="section" id="older-api">
<h2>2&nbsp;&nbsp;&nbsp;Older API</h2>
<p>The following pages and threads have an outdated API:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.mynissanleaf.com/viewtopic.php?f=27&amp;t=2214&amp;start=70">http://www.mynissanleaf.com/viewtopic.php?f=27&amp;t=2214&amp;start=70</a></li>
<li><a class="reference external" href="https://github.com/haykinson/pycarwings">https://github.com/haykinson/pycarwings</a></li>
</ul>
<p>Pycarwings actually works, but uses the original API.  The forum thread then
details an updated REST endpoint (v3) but I could never get the authenticate to
take (possibly, I was using the wrong type of headers).</p>
<p>So the next step was to actually sniff the requests coming out of the Nissan EV
Connect app using a man-in-the-middle-proxy.</p>
</div>
<div class="section" id="first-steps-to-analyzing-the-nissan-ev-network-traffic">
<h2>3&nbsp;&nbsp;&nbsp;First steps to analyzing the Nissan EV network traffic</h2>
<div class="section" id="installing-the-proxy-to-view-the-nissan-ev-ios-app-headers">
<h3>3.1&nbsp;&nbsp;&nbsp;Installing the proxy to view the Nissan EV iOS app headers</h3>
<p>I followed the instructions on using <a class="reference external" href="http://jasdev.me/intercepting-ios-traffic/">mitmproxy here</a>.</p>
<p>Of course, just doing:</p>
<blockquote>
pip install mitmproxy</blockquote>
<p>unfortunately did not work on my mac running El Capitan, so I had to diagnose the following errors:</p>
<ul class="simple">
<li>lxml compilation failed, so I realized I had to reinstall the xcode command line tools after upgrading to El Capitan by doing <cite>xcode-select --install</cite></li>
<li>Then, it couldn't find the openssl headers to install the crytography package.   So I had to read up on how El Capitan had <a class="reference external" href="https://github.com/pyca/cryptography/issues/2350">deprecated the standard openssl headers</a>. tldr; run <cite>env LDFLAGS=&quot;-L$(brew --prefix openssl)/lib&quot; CFLAGS=&quot;-I$(brew --prefix openssl)/include&quot; pip install mitmproxy</cite></li>
</ul>
<p>Then, it was a matter of running <cite>mitmproxy</cite> and setting my iOS device to use a manual proxy on port 8080 pointing to my mac.  Then, you browse to the mitm.it using safari and install the
appropriate certificate for your device.  Then I launched the Nissan EV application and started looking at the traffic. (note to self, in order to copy text from the mitmproxy screen,
you need to hold <cite>fn+option</cite> down as you select)</p>
</div>
<div class="section" id="rest-requests">
<h3>3.2&nbsp;&nbsp;&nbsp;REST requests</h3>
<p>The request/responses appear to be pretty straight-forward.  On my initial reading, curiously, it seems like you just need the constant DCMID and VIN fields from the
login for subsequent requests.  There doesn't appear to be any session based authentication token used.</p>
<div class="section" id="initial-login-to-nissan-servers">
<h4>3.2.1&nbsp;&nbsp;&nbsp;Initial login to Nissan servers</h4>
<p>Initial logon request, where USERID is your Nissan Portal login (email address) and USERPASSWORD is the accompanying password:</p>
<blockquote>
<a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/UserLoginRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=&amp;VIN=&amp;tz=&amp;UserId=USERID&amp;Password=USERPASSWORD">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/UserLoginRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=&amp;VIN=&amp;tz=&amp;UserId=USERID&amp;Password=USERPASSWORD</a></blockquote>
<p>Results in:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;CustomerInfo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;Country&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;US&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en-US&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Nickname&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXXXXX&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;OwnerId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXXXXXX&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;RegionCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NNA&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Timezone&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;America/New_York&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;UserId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXX&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;UserVehicleBoundDurationSec&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;946771200&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;VehicleImage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/content/language/default/ima</span>
<span class="s2">                &quot;</span><span class="err">VehicleI</span><span class="kc">nf</span><span class="err">o</span><span class="s2">&quot;: {</span>
<span class="s2">                        &quot;</span><span class="err">DCMID</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXX</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="err">E</span><span class="kc">n</span><span class="err">cryp</span><span class="kc">te</span><span class="err">dNAVIID</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXXXXXXXXXXXX</span>
<span class="w">                        </span><span class="nt">&quot;LastDCMUseTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jan 12, 2016 03:37 PM&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;LastVehicleLoginTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;MSN&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXXXXXXXXXXX&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;NAVIID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXXXXXXXX&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;SIMID&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;XXXXXXXXXXXXXXXXXXX&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;UserVehicleBoundTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-09-24T18:10:</span>
<span class="s2">                        &quot;</span><span class="err">VIN</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXXXXXXX</span><span class="s2">&quot;</span>
<span class="s2">                }</span>
<span class="s2">        },</span>
<span class="s2">        &quot;</span><span class="err">E</span><span class="kc">n</span><span class="err">cAu</span><span class="kc">t</span><span class="err">hToke</span><span class="kc">n</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXXXXXXXXXXXXXXXXXXX</span><span class="s2">&quot;,</span>
<span class="s2">        &quot;</span><span class="err">UserI</span><span class="kc">nf</span><span class="err">oRevisio</span><span class="kc">n</span><span class="err">No</span><span class="s2">&quot;: &quot;</span><span class="mi">1</span><span class="s2">&quot;,</span>
<span class="s2">        &quot;</span><span class="err">VehicleI</span><span class="kc">nf</span><span class="err">oLis</span><span class="kc">t</span><span class="s2">&quot;: {</span>
<span class="s2">                &quot;</span><span class="err">VehicleI</span><span class="kc">nf</span><span class="err">o</span><span class="s2">&quot;: [</span>
<span class="s2">                        {</span>
<span class="s2">                                &quot;</span><span class="err">charger</span><span class="mi">20066</span><span class="s2">&quot;: &quot;</span><span class="kc">false</span><span class="s2">&quot;,</span>
<span class="s2">                                &quot;</span><span class="kc">n</span><span class="err">ick</span><span class="kc">na</span><span class="err">me</span><span class="s2">&quot;: &quot;</span><span class="err">VLea</span><span class="kc">f</span><span class="s2">&quot;,</span>
<span class="s2">                                &quot;</span><span class="kc">tele</span><span class="err">ma</span><span class="kc">t</span><span class="err">icsE</span><span class="kc">na</span><span class="err">bled</span><span class="s2">&quot;: &quot;</span><span class="kc">true</span><span class="s2">&quot;,</span>
<span class="s2">                                &quot;</span><span class="err">vi</span><span class="kc">n</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXXXXXXX</span><span class="s2">&quot;</span>
<span class="s2">                        }</span>
<span class="s2">                ],</span>
<span class="s2">                &quot;</span><span class="err">vehicleI</span><span class="kc">nf</span><span class="err">o</span><span class="s2">&quot;: [</span>
<span class="s2">                        {</span>
<span class="s2">                                &quot;</span><span class="err">charger</span><span class="mi">20066</span><span class="s2">&quot;: &quot;</span><span class="kc">false</span><span class="s2">&quot;,</span>
<span class="s2">                                &quot;</span><span class="kc">n</span><span class="err">ick</span><span class="kc">na</span><span class="err">me</span><span class="s2">&quot;: &quot;</span><span class="err">VLea</span><span class="kc">f</span><span class="s2">&quot;,</span>
<span class="s2">                                &quot;</span><span class="kc">tele</span><span class="err">ma</span><span class="kc">t</span><span class="err">icsE</span><span class="kc">na</span><span class="err">bled</span><span class="s2">&quot;: &quot;</span><span class="kc">true</span><span class="s2">&quot;,</span>
<span class="s2">                                &quot;</span><span class="err">vi</span><span class="kc">n</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXXXXXXX</span><span class="s2">&quot;</span>
<span class="s2">                        }</span>
<span class="s2">                ]</span>
<span class="s2">        },</span>
<span class="s2">        &quot;</span><span class="err">message</span><span class="s2">&quot;: &quot;</span><span class="err">success</span><span class="s2">&quot;,</span>
<span class="s2">        &quot;</span><span class="err">sessio</span><span class="kc">n</span><span class="err">Id</span><span class="s2">&quot;: &quot;</span><span class="mi">43978</span><span class="kc">f</span><span class="mi">5</span><span class="err">b</span><span class="mf">-e45</span><span class="err">c</span><span class="mi">-498</span><span class="err">c</span><span class="mi">-</span><span class="err">a</span><span class="mf">9e5-</span><span class="err">be</span><span class="mf">85e59</span><span class="err">d</span><span class="kc">f</span><span class="mi">3</span><span class="err">dc</span><span class="s2">&quot;,</span>
<span class="s2">        &quot;</span><span class="err">s</span><span class="kc">tatus</span><span class="s2">&quot;: 200,</span>
<span class="s2">        &quot;</span><span class="err">vehicle</span><span class="s2">&quot;: {</span>
<span class="s2">                &quot;</span><span class="err">pro</span><span class="kc">f</span><span class="err">ile</span><span class="s2">&quot;: {</span>
<span class="s2">                        &quot;</span><span class="err">dcmId</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXX</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="err">e</span><span class="kc">n</span><span class="err">cAu</span><span class="kc">t</span><span class="err">hToke</span><span class="kc">n</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXXXXXXXXXXXXXXX</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="err">gdcPassword</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXX</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="err">gdcUserId</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXX</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="kc">n</span><span class="err">ick</span><span class="kc">na</span><span class="err">me</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXX</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="err">s</span><span class="kc">tatus</span><span class="s2">&quot;: &quot;</span><span class="err">ACCEPTED</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="err">s</span><span class="kc">tatus</span><span class="err">Da</span><span class="kc">te</span><span class="s2">&quot;: &quot;</span><span class="err">Sep</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"> </span><span class="mi">2015</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="err">AM</span><span class="s2">&quot;,</span>
<span class="s2">                        &quot;</span><span class="err">vi</span><span class="kc">n</span><span class="s2">&quot;: &quot;</span><span class="err">XXXXXXXXXXXXXXXXX&quot;</span>
<span class="err">                }</span>
<span class="err">        }</span>
<span class="err">}</span>
</pre></div>
</div>
<div class="section" id="request-current-status">
<h4>3.2.2&nbsp;&nbsp;&nbsp;Request current status</h4>
<p>Request an update on the battery status:</p>
<blockquote>
<a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/BatteryStatusRecordsRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;TimeFrom=2015-09-24T18:10:06">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/BatteryStatusRecordsRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;TimeFrom=2015-09-24T18:10:06</a></blockquote>
<p>Response:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;BatteryStatusRecords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;BatteryStatus&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;BatteryCapacity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;12&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;BatteryChargingStatus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NOT_CHARGING&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;BatteryRemainingAmount&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;11&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;BatteryRemainingAmountWH&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;BatteryRemainingAmountkWH&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;CruisingRangeAcOff&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;133840.0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;CruisingRangeAcOn&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;122368.0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;NotificationDateAndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016/01/12 15:37&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;OperationDateAndTime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jan 12, 2016 10:37 AM&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;OperationResult&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;START&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;PluginState&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NOT_CONNECTED&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;TargetDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016/01/12 15:37&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;TimeRequiredToFull&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;HourRequiredToFull&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;MinutesRequiredToFull&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;30&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;TimeRequiredToFull200&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;HourRequiredToFull&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;MinutesRequiredToFull&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;TimeRequiredToFull200_6kW&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;HourRequiredToFull&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;MinutesRequiredToFull&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="update-status">
<h4>3.2.3&nbsp;&nbsp;&nbsp;Update status</h4>
<p>Ask for an update from the car:</p>
<blockquote>
<a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/BatteryStatusCheckRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/BatteryStatusCheckRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York</a></blockquote>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span><span class="p">,</span><span class="nt">&quot;userId&quot;</span><span class="p">:</span><span class="s2">&quot;XXXXXX&quot;</span><span class="p">,</span><span class="nt">&quot;vin&quot;</span><span class="p">:</span><span class="s2">&quot;XXXXXXXXX&quot;</span><span class="p">,</span><span class="nt">&quot;resultKey&quot;</span><span class="p">:</span><span class="s2">&quot;XXXXXXXXXX&quot;</span><span class="p">}</span><span class="err">%</span>
</pre></div>
<p>The resultKey can be used to poll for when the updated value is available:</p>
<blockquote>
<a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/BatteryStatusCheckResultRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;resultKey=XXXXXXX">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/BatteryStatusCheckResultRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;resultKey=XXXXXXX</a></blockquote>
<p>If it's not ready yet:</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span><span class="p">,</span><span class="nt">&quot;responseFlag&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">}</span>
</pre></div>
<p>Once status is updated, you get:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;responseFlag&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;operationResult&quot;</span><span class="p">:</span><span class="s2">&quot;START&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timeStamp&quot;</span><span class="p">:</span><span class="s2">&quot;2016-02-20 20:29:33&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cruisingRangeAcOn&quot;</span><span class="p">:</span><span class="s2">&quot;129712.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cruisingRangeAcOff&quot;</span><span class="p">:</span><span class="s2">&quot;133584.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;currentChargeLevel&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;chargeMode&quot;</span><span class="p">:</span><span class="s2">&quot;NOT_CHARGING&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pluginState&quot;</span><span class="p">:</span><span class="s2">&quot;NOT_CONNECTED&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;charging&quot;</span><span class="p">:</span><span class="s2">&quot;NO&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;chargeStatus&quot;</span><span class="p">:</span><span class="s2">&quot;CT&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batteryDegradation&quot;</span><span class="p">:</span><span class="s2">&quot;11&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batteryCapacity&quot;</span><span class="p">:</span><span class="s2">&quot;12&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timeRequiredToFull&quot;</span><span class="p">:{</span><span class="nt">&quot;hours&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;minutes&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;timeRequiredToFull200&quot;</span><span class="p">:{</span><span class="nt">&quot;hours&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;minutes&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;timeRequiredToFull200_6kW&quot;</span><span class="p">:{</span><span class="nt">&quot;hours&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;minutes&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="get-various-formats">
<h4>3.2.4&nbsp;&nbsp;&nbsp;Get various formats</h4>
<p>Here some misc requests:</p>
<ul>
<li><p class="first"><a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/GetRegionSetting.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;Country=USA&amp;cartype=15MY">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/GetRegionSetting.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;Country=USA&amp;cartype=15MY</a></p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;ABOUT_THE_APP&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;APP_NOTICE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;CONTACT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;CUSTOMER_SUPPORT&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;ROADSIDE_ASSISTANCE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;CUSTOMER_SUPPORT&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1-877-664-2738&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;DRIVING_HELP&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://www.ev.nissanconnect.jp/EV/mycar/driving_help&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;DRIVING_RECORDS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ECO_DRIVE_EVALUATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ECO_TREE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ELECTRICITY_RATE_SIMULATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ELECTRICITY_USAGE_RECORDS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ELECTRIC_REDIRECT&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://www.ev.nissanconnect.jp/gw-redirect/gdc/auth-redirect.php&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;FORGOT_PASSWORD&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://owners.nissanusa.com/nowners/&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;HOME&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;NEW_REGISTRATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://owners.nissanusa.com/nowners/&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;NOTIFICATIONS_HISTORY&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;NOTIFICATION_DETAIL&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;BATTERY_HEATER_NOTIFICATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;BATTERY_STATUS_NOTIFICATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;CHARGE_START/FINISH_NOTIFICATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;CHARGE_STOP_ALERT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;CLIMATE_CONTROL_START/STOP_NOTIFICATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;ELECTRICITY_COST_NOTIFICATION&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                        </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;MAINTENANCE_ALERT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;MY_CAR_FINDER&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;UNPLUGGED_STATUS_ALERT&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                 </span><span class="nt">&quot;Frequency&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Push&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;SMS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="nt">&quot;Visible&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">         </span><span class="p">}</span>
<span class="w"> </span><span class="p">},</span>
<span class="w"> </span><span class="nt">&quot;NOTIFICATION_SETTINGS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;PATH_VIEWER&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;PRIVACY_LINK&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://m.nissanusa.com/privacy&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;REGIONAL_RANKINGS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;REMOTE_CHARGE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;REMOTE_CLIMATE_CONTROL&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;ROADSIDE_ASSISTANCE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1-800-801-6161&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;ROUTE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;ROUTE_PLANNER&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://routepln.its-mo.com/RoutePlanner&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;RegionCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;NNA&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;UPDATEATSTARTUP&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;USER&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;VEHICLE_SWAP&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;WORLD_RANKINGS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;Wh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wh&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="p">}</span>
</pre></div>
</li>
<li><p class="first"><a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/dateformat.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;TargetDate=2016-01-12&amp;type=Y/m&amp;lg=en-US">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/dateformat.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;TargetDate=2016-01-12&amp;type=Y/m&amp;lg=en-US</a></p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;DisplayDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jan/2016&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;TargetDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-01-12&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="p">}</span>
</pre></div>
</li>
<li><p class="first"><a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/GetCountrySetting.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/GetCountrySetting.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York</a></p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;setting&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;Australia&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Austria&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Belgium&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Canada&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Cyprus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Czech Rep&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Denmark&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Estonia&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Finland&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;France&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Germany&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Greece&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Guadeloupe&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Hungary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Iceland&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Ireland&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Israel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Italy&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Japan&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Latvia&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Lithuania&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Luxembourg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Malta&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Martinique&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Monaco&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Netherlands&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Norway&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Poland&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Portugal&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Reunion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Slovakia&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Slovenia&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Spain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Sweden&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;Switzerland&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;The United States&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;United Kingdom&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="p">}</span>
</pre></div>
</li>
<li><p class="first"><a class="reference external" href="https://gdcportalgw.its-mo.com/app_notice/AppNoticeRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;DeviceType=ios&amp;DeviceTime=2016-01-12%2010:43&amp;UserId=XXXXXXX">https://gdcportalgw.its-mo.com/app_notice/AppNoticeRequest.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;DeviceType=ios&amp;DeviceTime=2016-01-12%2010:43&amp;UserId=XXXXXXX</a></p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;AppNotice&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="p">}</span>
</pre></div>
</li>
<li><p class="first"><a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/dateformat.php?TargetDate=2016-01-12%2010:37&amp;type=updateTime&amp;lg=en-US">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/dateformat.php?TargetDate=2016-01-12%2010:37&amp;type=updateTime&amp;lg=en-US</a></p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;DisplayDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jan 12, 2016 10:37 AM&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;TargetDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-01-12 10:37&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="p">}</span>
</pre></div>
</li>
<li><p class="first"><a class="reference external" href="https://gdcportalgw.its-mo.com/orchestration_1111/gdc/dateformat.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;TargetDate=2016-01-12%2010:37&amp;type=updateTime&amp;lg=en-US">https://gdcportalgw.its-mo.com/orchestration_1111/gdc/dateformat.php?RegionCode=NNA&amp;lg=en-US&amp;DCMID=XXXXXXXXXXXX&amp;VIN=XXXXXXXXXXXXXXXXX&amp;tz=America/New_York&amp;TargetDate=2016-01-12%2010:37&amp;type=updateTime&amp;lg=en-US</a></p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;DisplayDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jan 12, 2016 10:37 AM&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;TargetDate&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2016-01-12 10:37&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span>
<span class="p">}</span>
</pre></div>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="to-be-continued">
<h2>4&nbsp;&nbsp;&nbsp;to be continued....</h2>
</div>

  </div>
  <div class="article_meta">
    <p>Category: <a href="https://virantha.com/category/tech.html">Tech</a></p>
    <p>Tags:
      <a href="https://virantha.com/tag/leaf.html">LEAF</a>,      <a href="https://virantha.com/tag/nissan.html">Nissan</a>    </p>
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
        <a class="addthis_button_tweet"></a>
        <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
        <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
        <a class="addthis_counter addthis_pill_style"></a>
    </div>
    <script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-533983e96da03f48"></script>
    <script type="text/javascript">
        var addthis_config = addthis_config||{};
        addthis_config.data_track_addressbar = false;
        addthis_config.data_track_clickback = false;
    </script>
    <!-- AddThis Button END -->
  </div>


    <div id="article_comments" style="display:block">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
           var disqus_identifier = "2016/01/12/reverse-engineering-nissan-connect-ev-protocol/";
           (function() {
           var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
           dsq.src = 'https://virantha.disqus.com/embed.js';
           (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
</article>


    <div id="ending_message">
        <p>&copy; Virantha Ekanayake. Built using <a href="https://getpelican.com" target="_blank">Pelican</a>. Modified <a href='https://github.com/virantha/pelican-svbhack'>svbhack</a> theme, based on <a href="https://github.com/pR0Ps/pelican-svbhack" target="_blank">theme</a> by Carey Metcalfe</p>
    </div>
  </main>


  <script type="text/javascript">
    window.onload = function(){
      var e = document.querySelectorAll(".email");
      for (var i = 0; i < e.length; i++) {
        e[i].href = e[i].getAttribute("data-email").split("").reverse().join("");
        e[i].removeAttribute("data-email");
        e[i].removeAttribute("title");
        e[i].removeAttribute("class");
        e[i].setAttribute("class","ext-links");
      }

      $.get("https://ipinfo.io", function (response) {
        //$("#country").html(response.country);
        //response.country = "CA";
        var country_codes = { 
            "GB": { "id" : "virantha-uk-21", "url" : "www.amazon.co.uk"},
            "CA": { "id" : "virantha-ca-20", "url" : "www.amazon.ca"},
            "DE": { "id" : "virantha-de-21", "url" : "www.amazon.de"},
            "FR": { "id" : "viranthacom0c-21", "url" : "www.amazon.fr"},
            "ES": { "id" : "viranthaco0b5-21", "url" : "www.amazon.es"},
            "IT": { "id" : "viranthacom02-21", "url" : "www.amazon.it"}
        } 
        if (response.country in country_codes) {
                
            var e = document.querySelectorAll(".amazon");
            for (var i = 0; i < e.length; i++) {
                e[i].href = e[i].href.replace("www.amazon.com", country_codes[response.country]["url"]);
                e[i].href = e[i].href.replace("virantha-20", country_codes[response.country]["id"]);
                e[i].setAttribute("class","amazn");
             }
        }
        }, "jsonp"); 
    };
  </script>


<script src="https://files.stork-search.net/releases/v1.5.0/stork.js"></script>
<script>
    stork.register("sitesearch", "https://virantha.com/search-index.st");
</script>
</body>
</html>